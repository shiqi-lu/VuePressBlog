---
title: 第8章 - 架构分层
date: 2021-10-16 20:41:00
updated: 2021-10-16 20:41:00
tags:
- 架构
categories:
- 架构
description: 包括如下目录学习笔记：40、分层：互联网分层架构方法论。41、分层：DAO与服务化。42、分层：业务服务层，是否有必要？43、分层：前后端分离。44、分层：数据库中间件
toc:
  enable: true
  number: false
---

## 40、分层：互联网分层架构方法论
- no40：互联网分层架构的的本质是什么？
    - 这是一个「数据移动」，然后「被处理」，被「呈现」的过程
- no40：数据移动过程中最重要的两点是什么？
    - 1.数据传输的格式
    - 2.数据在各个层次的形态
- no40：架构分层的方法论是什么？
    - 1.让上游更高效地获取与处理数据，复用
    - 2.让下游能屏蔽数据的获取细节，封装

## 41、分层：DAO与服务化。
- no41：何时应该引入 DAO
    - 为了屏蔽数据库数据细节时
- no41：何时需要基础数据服务化分层
    - 为了屏蔽垂直拆分，分库分表，缓存细节时


## 42、分层：业务服务层，是否有必要？
- no42：何时需引入业务服务层
    - 为了屏蔽多个基础服务的调用时
    - ![](https://img.shiqi-lu.tech/20210919175852.png)
    - ![](https://img.shiqi-lu.tech/20210919175921.png)
    - ![](https://img.shiqi-lu.tech/20210919180000.png)


## 43、分层：前后端分离
- no43：什么时候需要前后端分离？
    - 为了屏蔽端上多变，PC/H5/APP 等产品复杂性时，因为设备兼容性，折磨着 MVC 的工程师，PC/H5/APP 等前端展现变化的频率，远大于后端业务逻辑变化的频率
    - ![](https://img.shiqi-lu.tech/20210919181925.png)
    - ![](https://img.shiqi-lu.tech/20210919181845.png)
    - ![](https://img.shiqi-lu.tech/20210919181858.png)


## 44、分层：数据库中间件
- no44：何时需要数据库中间件？
    - 为了屏蔽数据库层面的复杂性时，如
        - 有些数据需要路由到特定的水平切分库
        - 有些数据不确定落在哪一个水平切分库，就需要访问所有库
        - 有些数据需要访问全局的库，拿到数据的全局视野，到service层进行额外处理
    - ![](https://img.shiqi-lu.tech/20210919184348.png)
    - ![](https://img.shiqi-lu.tech/20210919184210.png)
    - 引入数据库中间件，基于客户端
        - ![](https://img.shiqi-lu.tech/20210919184234.png)
    - 基于服务端，对上游而言，它就是数据库
        - ![](https://img.shiqi-lu.tech/20210919184316.png)

