import{_ as c,r as d,o as r,c as u,a as e,b as o,d as a,e as l}from"./app-n0xwCUxG.js";const n={},t=l('<h1 id="《第一本docker书》学习笔记" tabindex="-1"><a class="header-anchor" href="#《第一本docker书》学习笔记" aria-hidden="true">#</a> 《第一本docker书》学习笔记</h1><h2 id="基础用法" tabindex="-1"><a class="header-anchor" href="#基础用法" aria-hidden="true">#</a> 基础用法</h2><ul><li>查看docker是否正常工作/信息的命令? <ul><li><code>sudo docker info</code></li></ul></li><li>列出docker容器的命令？ <ul><li><code>docker ps</code></li><li>所有容器-a，只看最后一个-l，只返回容器ID-q</li></ul></li><li>创建交互式容器并命名？ <ul><li><code>sudo docker run --name my_container -i -t ubuntu /bin/bash</code></li><li>--name指定容器名字，-i指容器开启STDIN可交互使用，-t指用什么基础镜像</li></ul></li><li>启动已经停止运行的容器？ <ul><li><code>sudo docker start my_container</code></li><li><code>sudo docker start aa38f0f4</code></li><li>后可接容器名或ID</li></ul></li><li>通过名字/ID附着到正在运行的容器？ <ul><li><code>sudo docker attach my_container</code></li></ul></li><li>创建守护式容器？ <ul><li><code>sudo docker run --name daemon_container -d ubuntu /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</code></li></ul></li><li>查看容器日志？ <ul><li><code>sudo docker logs daemon_container</code></li><li>-f可监控，--tail 10可看最后10行</li></ul></li><li>查看容器内进程？ <ul><li><code>sudo docker top daemon_container</code></li></ul></li><li>查看容器的硬件统计信息？ <ul><li><code>sudo docker stats daemon_container</code></li></ul></li><li>在容器内部启动额外进程？交互/后台 <ul><li>后台：<code>sudo docker exec -d daemon_container touch /etc/config</code></li><li>交互：<code>sudo docker exec -t -i daemon_container /bin/bash</code></li></ul></li><li>通过名字/ID停止正在运行的容器？ <ul><li><code>sudo docker stop daemon_container</code></li></ul></li><li>程序出错docker自动重启容器？ <ul><li><code>sudo docker run --restart=always --name my_container -d ubuntu /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</code></li><li>--restart为always时，无论容器退出代码是什么都会重启；设置为on-failure只有退出为非0值才自动重启，此外on-failure可设置重启次数：<code>--restart=on-failure:5</code></li></ul></li><li>查看容器详细信息？ <ul><li><code>sudo docker inspect my_container</code></li></ul></li><li>删除容器？ <ul><li><code>sudo docker rm 80483829fd</code></li></ul></li><li>创建镜像并绑定端口？ <ul><li>这个是把容器内的 80 端口映射到本机的 8080 端口</li><li><code>sudo docker run --name daemon_container -p 8080:80 -d ubuntu /bin/sh -c &quot;while true; do echo hello world; sleep 1; done&quot;</code></li></ul></li><li>启动docker容器并把需要的文件挂载进去 <ul><li>使用选项<code>-v your_directory:docker_directory</code></li><li>如：<code>docker run --rm -ti -v /home/jp:/home/ai harbor.atompai.com/nitrogen/ai_kernel:n1 /bin/bash</code></li><li>镜像启动之后切换入/home/ai即可看到你的文件</li><li>两边的修改结果都会实时反映</li></ul></li></ul><h2 id="镜像构建命令" tabindex="-1"><a class="header-anchor" href="#镜像构建命令" aria-hidden="true">#</a> 镜像构建命令</h2>',4),s={href:"https://docs.docker.com/engine/reference/builder/",target:"_blank",rel:"noopener noreferrer"},h=l("<li>列出docker镜像？ <ul><li><code>sudo docker images</code></li><li>后可加具体镜像名</li></ul></li><li>拉取docker镜像？ <ul><li>sudo docker pull ubuntu:12.04</li></ul></li><li>查找镜像？ <ul><li><code>sudo docker search puppet</code></li></ul></li><li>登录Docker Hub? <ul><li><code>sudo docker login</code></li></ul></li><li>使用commit命令创建镜像步骤？ <ul><li>运行一个容器，如：<code>sudo docker run -i -t ubuntu /bin/bash</code></li><li>在里面运行一堆命令</li><li>使用exit命令退出容器</li><li>提交定制容器：<code>sudo docker commit 41a932fe hub_name/apache2</code> 41a..是容器ID，hub_name是仓库名，apache2是镜像名，后还能使用<code>:webserver</code>添加标签</li></ul></li><li>使用Dockerfile创建镜像步骤？ <ul><li>创建Docker文件</li><li>构建新镜像命令：<code>sudo docker build -t=&quot;hub_name/static_web:v1&quot; .</code></li></ul></li><li>把镜像推送到Docker Hub? <ul><li><code>sudo docker push static_web</code></li></ul></li><li>删除镜像？ <ul><li><code>sudo docker rmi jamtur01/static_web</code></li></ul></li>",8),k=l('<h2 id="docker-compose" tabindex="-1"><a class="header-anchor" href="#docker-compose" aria-hidden="true">#</a> docker compose</h2><ul><li>安装 <ul><li><code>sudo pip install docker-compose</code></li></ul></li><li>测试是否工作 <ul><li><code>docker-compose --version</code></li></ul></li><li>启动/守护进程启动 <ul><li><code>sudo docker-compose up</code></li><li>守护进程加-d</li></ul></li><li>列出所有docker-compose中的服务 <ul><li><code>sudo docker-compose ps</code></li></ul></li><li>停止服务 <ul><li><code>sudo docker-compose stop</code></li></ul></li><li>删除服务 <ul><li><code>sudo docker-compose rm</code></li></ul></li></ul>',2);function m(_,p){const i=d("ExternalLinkIcon");return r(),u("div",null,[t,e("ul",null,[e("li",null,[o("参考： "),e("ul",null,[e("li",null,[e("a",s,[o("docker官网"),a(i)]),o("，Dockerfile reference")])])]),h]),k])}const f=c(n,[["render",m],["__file","first-docker.html.vue"]]);export{f as default};
